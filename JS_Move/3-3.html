<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>弹性菜单</title>
	<style>
		body { margin: 0; padding: 0; }
		ul { margin: 0; padding: 0; }
		li { background: red; list-style: none; width: 100px; line-height: 30px; height: 30px; float: left; margin-right: 10px; text-align: center; cursor: pointer; color: #fff; }
		a { display: block; color: #fff; text-decoration: none; }
		#div2, #div1 { margin: 0; padding: 0; position: absolute; top: 300px; background: #000; height: 2px; width: 430px; }
		#div1 { top: 30px; }
	</style>
	<script>
		window.onload = function(){

			var aLi = document.getElementsByTagName('li');

			for(var i=0; i<aLi.length; i++){

				aLi[i].onmouseover = function(){
					flexMove(this, 300);
				}

				aLi[i].onmouseout = function(){
					flexMove(this, 30);
				}
			}

			function flexMove(obj, iTarget){
				obj.iSpeed = 0;

				clearInterval(obj.timer);
				obj.timer = setInterval(function(){
					obj.iSpeed += (iTarget - obj.offsetHeight) / 6;
					obj.iSpeed *= 0.75;

					if(Math.abs(obj.iSpeed) <= 1 && Math.abs(iTarget - obj.offsetHeight) <= 1){
						clearInterval(obj.timer);
						obj.iSpeed = 0;
						obj.style.height = iTarget + 'px';
					} else {
						var H = obj.offsetHeight + obj.iSpeed;
						if(H < 2){
							H = 2;
						}
						obj.style.height = H + 'px';
					}
				}, 30)
			}
		}
	</script>
</head>
<body>
	<div id="div1"></div>
	<ul>
		<li><a href="#">菜单一</a></li>
		<li><a href="#">菜单二</a></li>
		<li><a href="#">菜单三</a></li>
		<li><a href="#">菜单四</a></li>
	</ul>
	<div id="div2"></div>
</body>
</html>